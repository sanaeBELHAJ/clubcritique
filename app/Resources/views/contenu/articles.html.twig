{% extends 'base.html.twig' %}

{% block title %}
    
{% endblock %}


{% block body %}
    <div class="row ">
        <nav>
            <div class="nav-wrapper brown lighten-3">
               <div class="container">
                    <div class="col s12">
                      <a href="/Administration" class="breadcrumb">Administration</a>
                      <a href="/articleList" class="breadcrumb">Articles</a>
                    </div>
               </div>
            </div>
        </nav>
        <div class="col l12 col m12 col s12 col xs12 margin-top">
            <div class="container">
                <div class="row right">
                    <a href="{{ path("article_new")}}" class="btn  blue-grey">Ajouter un nouveau</a>
                </div>
                <div class="row margin-top">
                <table class="bordered ">
                    <thead>
                      <tr>
                          <th>Nom d'article</th>
                          <th>Action</th>
                      </tr>
                    </thead>

                    <tbody>
                        {%if articles is defined  and articles!=null%}
                            {% for article in articles %}
                             <tr>
                                <td>
                                    <a href="#infoArticle" class="brown-text lighten-3"><b>{{article.titre}}</b></a>
                                    <div id="infoArticle" class="modal">
                                        <div class="modal-content">
                                            <div class="row">
                                            <div class="col s6">
                                                <img width="300" height="200" src='../ressource/article/{{article.image}}'>
                                            </div>
                                            <div class="col s6">
                                                {%if article.titre != null %}
                                                    <p>Titre : {{article.titre}}</p>
                                                {%endif%}
                                                {%if article.resume != null %}
                                                    <p>Description : {{article.resume}}</p>
                                                {%endif%}
                                                {%if article.date_sortie != null %}
                                                    <p>Date de sortie : {{article.date_sortie|date("d/m/Y")}}</p>
                                                {%endif%}
                                                {%if article.auteur != null %}
                                                    <p>Auteur/RÃ©alisateur :{{article.auteur}}</p>
                                                {%endif%}
                                            </div>
                                        </div>
                                    </div>
                                        <div class="modal-footer">
                                            <a href="#!"
                                               class="modal-action modal-close waves-effect waves-green btn-flat">Fermer</a>
                                        </div>
                                    </div>
                                    
                                
                                </td>
                                <td>
                                    <a href="{{path('article_edit',{'id': article.id})}}" class="orange-text text-accent-2"><i class="material-icons">edit</i></a>
                                    <a href="{{path('article_delete',{'id':article.id})}}" class="red-text text-lighten-2">      <i class="material-icons">delete</i></a>
                                </td>
                             </tr>
                            {%endfor%}
                        {%endif%}
                    </tbody>
                 </table>
               </div>
            </div>
        </div>
    </div>
{% endblock %}
